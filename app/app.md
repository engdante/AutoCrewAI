# CrewAI GUI Application - Документация

## Обобщение

Тази документация описва структурата и функционалността на CrewAI GUI апликацията след реорганизацията. Приложението е разделено на няколко модула за по-добра поддръжка и разширяемост.

## Структура на проекта

```
app/
├── __init__.py          # Инициализация на пакета
├── gui_models.py         # Модел за данни
├── gui_main.py          # Основен GUI клас
├── gui_widgets.py       # Помощни GUI компоненти
├── gui_dialogs.py       # Диалогови прозорци
├── gui_file_handlers.py # Файлови операции
├── gui_helpers.py       # Помощни функции
├── main.py              # Главен файл за изпълнение
└── app.md               # Тази документация
```

## Описание на файловете

### gui_models.py
Съдържа `CrewModel` класа, който управлява данните за crews, tasks и agents.

**Основни методи:**
- `__init__()` - Инициализация на модела
- `get_crews()` - Връща списък с всички налични crews
- `set_active_crew()` - Задава активен crew
- `create_new_crew()` - Създава нов crew
- `rename_crew()` - Преназва съществуващ crew
- `load_data()` - Зарежда данни от Crew.md и Task.md
- `save_data()` - Запазва данни в Crew.md и Task.md

### gui_main.py
Съдържа основния `CrewAIGUI` клас, който управлява потребителския интерфейс.

**Основни методи:**
- `__init__()` - Инициализация на GUI
- `create_widgets()` - Създава основните GUI елементи
- `auto_load()` - Зарежда данни при стартиране
- `add_agent_row()` - Добавя ред за агент в интерфейса
- `add_task_row()` - Добавя ред за задача в интерфейса
- `save_all()` - Запазва всички промени

### gui_widgets.py
Съдържа помощни функции за създаване на GUI компоненти.

**Основни функции:**
- `add_context_menu()` - Добавя контекстно меню с cut/copy/paste/select all
- `create_scrolled_text()` - Създава скролиращо текстово поле с контекстно меню

### gui_dialogs.py
Съдържа функции за отваряне на различни диалогови прозорци.

**Основни функции:**
- `open_new_crew_dialog()` - Диалог за създаване на нов crew
- `open_rename_crew_dialog()` - Диалог за преименуване на crew
- `open_settings()` - Диалог за настройки на приложението
- `open_generate_dialog()` - Диалог за генериране на crew с AI

### gui_file_handlers.py
Съдържа функции за работа с файлове.

**Основни функции:**
- `copy_files_to_input()` - Копира файлове в input директорията
- `add_input_files()` - Отваря диалог за добавяне на файлове
- `remove_input_files()` - Премахва избрани файлове
- `open_input_folder()` - Отваря input папката в файловия explorер
- `refresh_input_files()` - Обновява списъка с файлове

### gui_helpers.py
Съдържа помощни функции за различни операции.

**Основни функции:**
- `get_python_exe()` - Връща пътя до Python изпълнимия файл
- `execute_run_crew()` - Изпълнява crew
- `fetch_ollama_models()` - Взема налични модели от Ollama
- `update_all_model_dropdowns()` - Обновява dropdown-ите с модели
- `refresh_data()` - Обновява данните в интерфейса

### main.py
Това е главният файл за изпълнение на приложението.

**Основна функция:**
- `main()` - Инициализира и стартира GUI приложението

## Как работи приложението

1. При стартиране `app.py` извиква `main.py`
2. `main.py` импортира и инициализира `CrewAIGUI` класа
3. `CrewAIGUI` създава потребителския интерфейс
4. Потребителят може да работи с crews, tasks и файлове
5. Промените се запазват в Crew.md и Task.md файлове

## Разширяемост

Приложението е проектирано да бъде лесно за разширяване:
- Нови GUI компоненти могат да бъдат добавени в `gui_widgets.py`
- Нови диалогови прозорци могат да бъдат добавени в `gui_dialogs.py`
- Нови файлови операции могат да бъдат добавени в `gui_file_handlers.py`
- Помощни функции могат да бъдат добавени в `gui_helpers.py`

## Забележки

- Всички файлове използват относителни импорти (от типа `from . import module`)
- GUI елементите са разделени по функционалност за по-добра организация
- Кодът следва принципа на разделение на отговорностите